{% extends "basefront.html.twig" %}

{% block body %}

    <div class="row mt-3">
        {# Boucle sur chaque visite #}
        {% for visite in visites %}
            <div class="col-md-6 mb-4">

                <h5>
                    {{ visite.datecreation ? visite.datecreation|date('d/m/Y ') : '' }}
                </h5>

                <h2 class="text-primary">
                    <a href="{{ path('voyages.showone', {id: visite.id}) }}">
                        {{ visite.ville }}
                    </a>
                </h2>

                <h3>{{ visite.pays }}</h3>

                {% if visite.note is not null %}
                    {% if visite.note >= 10 %}
                        <h4 class="text-success">{{ visite.note }}/20</h4>
                    {% else %}
                        <h4 class="text-danger">{{ visite.note }}/20</h4>
                    {% endif %}
                {% endif %}

                <h5>
                    t° entre {{ visite.tempmin }}° et {{ visite.tempmax }}°
                </h5>

                <p><strong>Environnements :</strong>
                {% if visite.environnements is defined and visite.environnements|length > 0 %}
                    {% for environnement in visite.environnements %}
                        {{ environnement.nom }}{% if not loop.last %}, {% endif %}
                    {% endfor %}
                {% else %}
                    Aucun
                {% endif %}
                </p>
                <!-- emplacement photo -->
                {% if visite.imagename %}
                    <img src="{{ app.request.getBasePath()~vich_uploader_asset(visite, 'imageFile') }}" 
                         class="card-img-top" alt="image du voyage" style="width:100%;height:auto;">
                {% endif %}

                {% if visite.avis is defined %}
                    <p><strong>Mon avis :</strong> {{ visite.avis }}</p>
                {% endif %}

            </div>
        {% endfor %}
    </div>
{% endblock %}